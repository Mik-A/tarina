------------||Tarina - DIY filmmaking device for Raspberry pi||----------------------

video + sound recorder for the Raspberry Pi using the Pi Camera and Adafruit Pitft screen and C-Media USB Audio VIA VT1620A.
adafruit kernel with the 3.5 tft https://learn.adafruit.com/adafruit-pitft-3-dot-5-touch-screen-for-raspberry-pi/easy-install

Lens I'm trying out now
2.8-12mm M12 Manual Zoom Manual Focus




----------------||3d printable files||-------------------

Blender file and printable stls in 3d folder





---------------||Installing||-----------------

1. sudo apt-get install git python-picamera python-imaging python-pexpect libav-tools gpac omxplayer sox cpufrequtils usbmount

2. git clone https://rbckman@bitbucket.org/rbckman/tarina.git 

3. put this line in the end of /etc/fstab
tmpfs   /mnt/tmp    tmpfs   defaults    0 0

4. reboot

5. cd /home/pi/tarina/

6. python tarina.py

more install instructions in INSTALL file




----------------||Configurations Rasbian Wheezy||---------------------

Booting to Tarina on Raspbian Wheezy (init)

1. nano /etc/inittab
2. comment out line 54
#1:2345:respawn:/sbin/getty --noclear 38400 tty1

3. add this line instead
1:2345:respawn:/bin/login -f root tty1 </dev/tty1 >/dev/tty1 2>&1

4. place this to the end of /root/.bashrc:
if [ $(tty) == /dev/tty1 ]; then
   cd /home/pi/tarina
   echo -e '\033[?17;0;0c' > /dev/tty1
   python tarina.py > /dev/tty2 2>err.log
fi



----------------||Configurations Rasbian Jessie||---------------------

1.open new file /etc/systemd/system/tarina.service
and put this in it:

#Tarina unit file
[Unit]
Description=Starts Tarina
DefaultDependencies=false            # Very important! Without this line, the service 
                                     # would wait until networking.service
                                     # has finished initialization. This could add 10 
                                     # more seconds because of DHCP, IP attribution, etc.

[Service]
Type=simple
ExecStart=/usr/bin/python /home/pi/tarina/tarina.py
WorkingDirectory=/home/pi/tarina/
StandardInput=tty
#StandardOutput=tty
TTYPath=/dev/tty5
TTYReset=yes
TTYVHangup=yes

[Install]
WantedBy=local-fs.target
#Tarina unit file end

2. Then run these
sudo chmod 664 /etc/systemd/system/tarina.service
sudo systemctl daemon-reload





---------------||Known problems||----------------------------------------------

1. Seems like the whole thing runs better on Wheezy, even if it's the pi 2. I don't know why?
Systemd issue? or something else...

2. thumbnails is wierd looking on pi 3 with Jessie. Possible bug in python-picamera??






---------------||Couldn't have been done without these||-----------------------
---------------||Sending <3 to all||-------------------------------------------

Raspberry Pi
http://raspberrypi.org

Adafruit
https://learn.adafruit.com/adafruit-pitft-3-dot-5-touch-screen-for-raspberry-pi/overview

Picamera python module
Dave Jones, for the awesome picamera python module
http://picamera.readthedocs.org

Python programming language

Tasanakorn for fbcp so you can preview on the pitft
https://github.com/tasanakorn/rpi-fbcp

Libav-tools (ffmpeg)

GPac library with MP4Box

Aplay
The awesome wav player/recorder with VU meter
http://alsa.opensrc.org/Aplay

Omxplayer
Video player on the Raspberry pi
https://github.com/huceke/omxplayer

Sox

Texy
https://www.raspberrypi.org/forums/viewtopic.php?t=48967

The Dispmanx library
https://github.com/raspberrypi/userland/tree/master/host_applications/linux/apps/hello_pi


